for (i in 26:28){
eval(parse(text=paste0("tempData$`sdm_i1/sdm_i5/alasan_0",i,"`","<-NULL")))
}
tempData[tempData == "n/a"]  <- NA
tempData <- as.data.frame(tempData)
tempData$nama <- c("A", "B", "C", "D", "E", "F", "G", "H")
namaKolom = colnames(tempData[1:(length(tempData)-1)])
filterData <- tempData[which(tempData$nama == "A"), names(tempData) %in% namaKolom]
View(filterData)
namaKolom = colnames(tempData[1:length(tempData)])
filterData <- tempData[which(tempData$nama == "A"), names(tempData) %in% namaKolom]
numData<- as.data.frame(lapply(filterData[,6:(length(filterData)-1)], as.numeric))
View(numData)
rekomenIklim <- (numData$sdm_i1.sdm_i3.q6.2.1 + numData$sdm_i1.sdm_i3.q6.2.2)/2
rekomenPRKI <- numData$sdm_i1.sdm_i3.q6.2.5
rekomenPPRKN <- numData$sdm_i1.sdm_i3.q6.2.6
rekomenCDNA <- numData$sdm_i1.sdm_i3.q6.2.7
rekomenPengantar <- numData$sdm_i1.sdm_i3.q6.2.7
rekomenEkonomi <- (numData$sdm_i1.sdm_i3.q6.2.7 + numData$sdm_i1.sdm_i3.q6.2.8 + numData$sdm_i1.sdm_i4.q6.3.4)/3
rekomenSatEnergi <- (numData$sdm_i1.sdm_i4.q6.3.1 + numData$sdm_i1.sdm_i4.q6.3.5)/2
rekomenSatLimbah <- (numData$sdm_i1.sdm_i4.q6.3.1 + numData$sdm_i1.sdm_i4.q6.3.5)/2
rekomenSatLahan <- (numData$sdm_i1.sdm_i4.q6.3.1 + numData$sdm_i1.sdm_i4.q6.3.2 + numData$sdm_i1.sdm_i4.q6.3.5)/3
rekomenBAU <- (numData$sdm_i1.sdm_i4.q6.3.1 + numData$sdm_i1.sdm_i4.q6.3.6 + numData$sdm_i1.sdm_i4.q6.3.7)/3
rekomenIntervensi <- (numData$sdm_i1.sdm_i3.q6.2.9 + numData$sdm_i1.sdm_i4.q6.3.8 + numData$sdm_i1.sdm_i4.q6.3.9)/3
rekomenTradeoff <- (numData$sdm_i1.sdm_i4.q6.3.10 + numData$sdm_i1.sdm_i4.q6.3.11)/2
rekomenHutan <- (numData$sdm_i1.sdm_i3.q6.2.9 + numData$sdm_i1.sdm_i4.q6.3.12 + numData$sdm_i1.sdm_i4.q6.3.13)/3
rekomenTani <- (numData$sdm_i1.sdm_i3.q6.2.9 + numData$sdm_i1.sdm_i4.q6.3.12 + numData$sdm_i1.sdm_i4.q6.3.13)/3
rekomenEnergi <- (numData$sdm_i1.sdm_i3.q6.2.9 + numData$sdm_i1.sdm_i4.q6.3.12 + numData$sdm_i1.sdm_i4.q6.3.13)/3
rekomenTrasnportasi <- (numData$sdm_i1.sdm_i3.q6.2.9 + numData$sdm_i1.sdm_i4.q6.3.12 + numData$sdm_i1.sdm_i4.q6.3.13)/3
rekomenLimbah <- (numData$sdm_i1.sdm_i3.q6.2.9 + numData$sdm_i1.sdm_i4.q6.3.12 + numData$sdm_i1.sdm_i4.q6.3.13)/3
rekomenAplikasi <- (numData$sdm_i1.sdm_i3.q6.2.10 + numData$sdm_i1.sdm_i4.q6.3.3 + numData$sdm_i1.sdm_i4.q6.3.14)/3
rekomenKontributor <- (numData$sdm_i1.sdm_i4.q6.3.3 + numData$sdm_i1.sdm_i4.q6.3.14)/2
rekomenAdmin <- (numData$sdm_i1.sdm_i4.q6.3.3 + numData$sdm_i1.sdm_i4.q6.3.14)/2
rekomenEditor <- (numData$sdm_i1.sdm_i4.q6.3.3 + numData$sdm_i1.sdm_i4.q6.3.14)/2
if (filterData$`profil/id`==2 & filterData$`profil/sektor`==1 & filterData$`profil/subsektor`==1){
modulEnergi <- read_excel("init/modul.xlsx", sheet = "Energi")
nilaiEnergi <- data.frame(rbind(rekomenIklim, rekomenPRKI, rekomenPPRKN, rekomenCDNA, rekomenPengantar, rekomenEkonomi, rekomenSatEnergi, rekomenBAU, rekomenIntervensi, rekomenTradeoff, rekomenEnergi, rekomenAplikasi, rekomenKontributor))
tabelEnergi <- cbind(modulEnergi, nilaiEnergi)
tabelEnergi <- cbind(Kursus = rownames(tabelEnergi), tabelEnergi)
colnames(tabelEnergi) <- c("ID", "Modul", "Nilai")
rownames(tabelEnergi) <- 1:nrow(tabelEnergi)
tabelEnergi$Rekomendasi <- "Tidak ada rekomendasi"
###Define the recommendation of each indicator####
for (i in 1:nrow(tabelEnergi)){
eval(parse(text=paste0("tabelEnergi <- within(tabelEnergi, {Rekomendasi<-ifelse(ID=='", as.character(tabelEnergi$ID[i]) , "' & Nilai<4 , 'Perlu mempelajari modul', Rekomendasi)})")))
}
} else if (filterData$`profil/id`==2 & filterData$`profil/sektor`==1 & filterData$`profil/subsektor`==2) {
modulTransportasi <- read_excel("init/modul.xlsx", sheet = "Energi_Trans")
nilaiTransportasii <- data.frame(rbind(rekomenIklim, rekomenPRKI, rekomenPPRKN, rekomenCDNA, rekomenPengantar, rekomenEkonomi, rekomenSatEnergi, rekomenBAU, rekomenIntervensi, rekomenTradeoff, rekomenTransportasi, rekomenAplikasi, rekomenKontributor))
tabelTransportasi <- cbind(modulTransportasi, nilaiTransportasi)
tabelTransportasi <- cbind(Kursus = rownames(tabelTransportasi), tabelTransportasi)
colnames(tabelTransportasi) <- c("ID", "Modul", "Nilai")
rownames(tabelTransportasi) <- 1:nrow(tabelTransportasi)
tabelTransportasi$Rekomendasi <- "Tidak ada rekomendasi"
###Define the recommendation of each indicator####
for (i in 1:nrow(tabelTransportasi)){
eval(parse(text=paste0("tabelTransportasi <- within(tabelTransportasi, {Rekomendasi<-ifelse(ID=='", as.character(tabelTransportasi$ID[i]) , "' & Nilai<4 , 'Perlu mempelajari modul', Rekomendasi)})")))
}
} else if (filterData$`profil/id`==2 & filterData$`profil/sektor`==2 & filterData$`profil/subsektor_001`==1) {
modulHutan<- read_excel("init/modul.xlsx", sheet = "Lahan_Hutan")
nilaiHutan <- data.frame(rbind(rekomenIklim, rekomenPRKI, rekomenPPRKN, rekomenCDNA, rekomenPengantar, rekomenEkonomi, rekomenSatLahan, rekomenBAU, rekomenIntervensi, rekomenTradeoff, rekomenHutan, rekomenAplikasi, rekomenKontributor))
tabelHutan <- cbind(modulHutan, nilaiHutan)
tabelHutan <- cbind(Kursus = rownames(tabelHutan), tabelHutan)
colnames(tabelHutan) <- c("ID", "Modul", "Nilai")
rownames(tabelHutan) <- 1:nrow(tabelHutan)
tabelHutan$Rekomendasi <- "Tidak ada rekomendasi"
###Define the recommendation of each indicator####
for (i in 1:nrow(tabelHutan)){
eval(parse(text=paste0("tabelHutan <- within(tabelHutan, {Rekomendasi<-ifelse(ID=='", as.character(tabelHutan$ID[i]) , "' & Nilai<4 , 'Perlu mempelajari modul', Rekomendasi)})")))
}
} else if (filterData$`profil/id`==2 & filterData$`profil/sektor`==2 & filterData$`profil/subsektor_001`==2) {
modulTani<- read_excel("init/modul.xlsx", sheet = "Lahan_Tani")
nilaiTani <- data.frame(rbind(rekomenIklim, rekomenPRKI, rekomenPPRKN, rekomenCDNA, rekomenPengantar, rekomenEkonomi, rekomenSatLahan, rekomenBAU, rekomenIntervensi, rekomenTradeoff, rekomenTani, rekomenAplikasi, rekomenKontributor))
tabelTani <- cbind(modulTani, nilaiTani)
tabelTani <- cbind(Kursus = rownames(tabelTani), tabelTani)
colnames(tabelTani) <- c("ID", "Modul", "Nilai")
rownames(tabelTani) <- 1:nrow(tabelTani)
tabelTani$Rekomendasi <- "Tidak ada rekomendasi"
###Define the recommendation of each indicator####
for (i in 1:nrow(tabelTani)){
eval(parse(text=paste0("tabelTani <- within(tabelTani, {Rekomendasi<-ifelse(ID=='", as.character(tabelTani$ID[i]) , "' & Nilai<4 , 'Perlu mempelajari modul', Rekomendasi)})")))
}
} else if (filterData$`profil/id`==2 & filterData$`profil/sektor`==2 & filterData$`profil/subsektor_002`==1) {
modulLimbah<- read_excel("init/modul.xlsx", sheet = "Limbah")
nilaiLimbah <- data.frame(rbind(rekomenIklim, rekomenPRKI, rekomenPPRKN, rekomenCDNA, rekomenPengantar, rekomenEkonomi, rekomenSatLimbah, rekomenBAU, rekomenIntervensi, rekomenTradeoff, rekomenLimbah, rekomenAplikasi, rekomenKontributor))
tabelLimbah <- cbind(modulLimbah, nilaiLimbah)
tabelLimbah <- cbind(Kursus = rownames(tabelLimbah), tabelLimbah)
colnames(tabelLimbah) <- c("ID", "Modul", "Nilai")
rownames(tabelLimbah) <- 1:nrow(tabelLimbah)
tabelLimbah$Rekomendasi <- "Tidak ada rekomendasi"
###Define the recommendation of each indicator####
for (i in 1:nrow(tabelLimbah)){
eval(parse(text=paste0("tabelLimbah <- within(tabelLimbah, {Rekomendasi<-ifelse(ID=='", as.character(tabelLimbah$ID[i]) , "' & Nilai<4 , 'Perlu mempelajari modul', Rekomendasi)})")))
}
} else if (filterData$`profil/id`==1) {
modulAdmin<- read_excel("init/modul.xlsx", sheet = "Admin")
nilaiAdmin <- data.frame(rbind(rekomenIklim, rekomenPRKI, rekomenPPRKN, rekomenCDNA, rekomenPengantar, rekomenEkonomi, rekomenBAU, rekomenIntervensi, rekomenTradeoff, rekomenAplikasi, rekomenAdmin))
tabelAdmin <- cbind(modulAdmin, nilaiAdmin)
tabelAdmin <- cbind(Kursus = rownames(tabelAdmin), tabelAdmin)
colnames(tabelAdmin) <- c("ID", "Modul", "Nilai")
rownames(tabelAdmin) <- 1:nrow(tabelAdmin)
tabelAdmin$Rekomendasi <- "Tidak ada rekomendasi"
###Define the recommendation of each indicator####
for (i in 1:nrow(tabelAdmin)){
eval(parse(text=paste0("tabelAdmin <- within(tabelAdmin, {Rekomendasi<-ifelse(ID=='", as.character(tabelAdmin$ID[i]) , "' & Nilai<4 , 'Perlu mempelajari modul', Rekomendasi)})")))
}
} else {
modulEditor<- read_excel("init/modul.xlsx", sheet = "Editor")
nilaiEditor <- data.frame(rbind(rekomenIklim, rekomenPRKI, rekomenPPRKN, rekomenCDNA, rekomenPengantar, rekomenEkonomi, rekomenBAU, rekomenIntervensi, rekomenTradeoff, rekomenAplikasi, rekomenEditor))
tabelEditor <- cbind(modulEditor, nilaiEditor)
tabelEditor <- cbind(Kursus = rownames(tabelEditor), tabelEditor)
colnames(tabelEditor) <- c("ID", "Modul", "Nilai")
rownames(tabelEditor) <- 1:nrow(tabelEditor)
tabelEditor$Rekomendasi <- "Tidak ada rekomendasi"
###Define the recommendation of each indicator####
for (i in 1:nrow(tabelEditor)){
eval(parse(text=paste0("tabelEditor <- within(tabelEditor, {Rekomendasi<-ifelse(ID=='", as.character(tabelEditor$ID[i]) , "' & Nilai<4 , 'Perlu mempelajari modul', Rekomendasi)})")))
}
}
if (filterData$`profil/id`==2 & filterData$`profil/sektor`==1 & filterData$`profil/subsektor`==1){
modulEnergi <- read_excel("init/modul.xlsx", sheet = "Energi")
nilaiEnergi <- data.frame(rbind(rekomenIklim, rekomenPRKI, rekomenPPRKN, rekomenCDNA, rekomenPengantar, rekomenEkonomi, rekomenSatEnergi, rekomenBAU, rekomenIntervensi, rekomenTradeoff, rekomenEnergi, rekomenAplikasi, rekomenKontributor))
tabelEnergi <- cbind(modulEnergi, nilaiEnergi)
tabelEnergi <- cbind(Kursus = rownames(tabelEnergi), tabelEnergi)
colnames(tabelEnergi) <- c("ID", "Modul", "Nilai")
rownames(tabelEnergi) <- 1:nrow(tabelEnergi)
tabelEnergi$Rekomendasi <- "Tidak ada rekomendasi"
###Define the recommendation of each indicator####
for (i in 1:nrow(tabelEnergi)){
eval(parse(text=paste0("tabelEnergi <- within(tabelEnergi, {Rekomendasi<-ifelse(ID=='", as.character(tabelEnergi$ID[i]) , "' & Nilai<4 , 'Perlu mempelajari modul', Rekomendasi)})")))
}
datatable(tabelEnergi)
} else if (filterData$`profil/id`==2 & filterData$`profil/sektor`==1 & filterData$`profil/subsektor`==2) {
modulTransportasi <- read_excel("init/modul.xlsx", sheet = "Energi_Trans")
nilaiTransportasii <- data.frame(rbind(rekomenIklim, rekomenPRKI, rekomenPPRKN, rekomenCDNA, rekomenPengantar, rekomenEkonomi, rekomenSatEnergi, rekomenBAU, rekomenIntervensi, rekomenTradeoff, rekomenTransportasi, rekomenAplikasi, rekomenKontributor))
tabelTransportasi <- cbind(modulTransportasi, nilaiTransportasi)
tabelTransportasi <- cbind(Kursus = rownames(tabelTransportasi), tabelTransportasi)
colnames(tabelTransportasi) <- c("ID", "Modul", "Nilai")
rownames(tabelTransportasi) <- 1:nrow(tabelTransportasi)
tabelTransportasi$Rekomendasi <- "Tidak ada rekomendasi"
###Define the recommendation of each indicator####
for (i in 1:nrow(tabelTransportasi)){
eval(parse(text=paste0("tabelTransportasi <- within(tabelTransportasi, {Rekomendasi<-ifelse(ID=='", as.character(tabelTransportasi$ID[i]) , "' & Nilai<4 , 'Perlu mempelajari modul', Rekomendasi)})")))
}
datatable(tabelTransportasi)
} else if (filterData$`profil/id`==2 & filterData$`profil/sektor`==2 & filterData$`profil/subsektor_001`==1) {
modulHutan<- read_excel("init/modul.xlsx", sheet = "Lahan_Hutan")
nilaiHutan <- data.frame(rbind(rekomenIklim, rekomenPRKI, rekomenPPRKN, rekomenCDNA, rekomenPengantar, rekomenEkonomi, rekomenSatLahan, rekomenBAU, rekomenIntervensi, rekomenTradeoff, rekomenHutan, rekomenAplikasi, rekomenKontributor))
tabelHutan <- cbind(modulHutan, nilaiHutan)
tabelHutan <- cbind(Kursus = rownames(tabelHutan), tabelHutan)
colnames(tabelHutan) <- c("ID", "Modul", "Nilai")
rownames(tabelHutan) <- 1:nrow(tabelHutan)
tabelHutan$Rekomendasi <- "Tidak ada rekomendasi"
###Define the recommendation of each indicator####
for (i in 1:nrow(tabelHutan)){
eval(parse(text=paste0("tabelHutan <- within(tabelHutan, {Rekomendasi<-ifelse(ID=='", as.character(tabelHutan$ID[i]) , "' & Nilai<4 , 'Perlu mempelajari modul', Rekomendasi)})")))
}
datatable(tabelHutan)
} else if (filterData$`profil/id`==2 & filterData$`profil/sektor`==2 & filterData$`profil/subsektor_001`==2) {
modulTani<- read_excel("init/modul.xlsx", sheet = "Lahan_Tani")
nilaiTani <- data.frame(rbind(rekomenIklim, rekomenPRKI, rekomenPPRKN, rekomenCDNA, rekomenPengantar, rekomenEkonomi, rekomenSatLahan, rekomenBAU, rekomenIntervensi, rekomenTradeoff, rekomenTani, rekomenAplikasi, rekomenKontributor))
tabelTani <- cbind(modulTani, nilaiTani)
tabelTani <- cbind(Kursus = rownames(tabelTani), tabelTani)
colnames(tabelTani) <- c("ID", "Modul", "Nilai")
rownames(tabelTani) <- 1:nrow(tabelTani)
tabelTani$Rekomendasi <- "Tidak ada rekomendasi"
###Define the recommendation of each indicator####
for (i in 1:nrow(tabelTani)){
eval(parse(text=paste0("tabelTani <- within(tabelTani, {Rekomendasi<-ifelse(ID=='", as.character(tabelTani$ID[i]) , "' & Nilai<4 , 'Perlu mempelajari modul', Rekomendasi)})")))
}
datatable(tabelTani)
} else if (filterData$`profil/id`==2 & filterData$`profil/sektor`==2 & filterData$`profil/subsektor_002`==1) {
modulLimbah<- read_excel("init/modul.xlsx", sheet = "Limbah")
nilaiLimbah <- data.frame(rbind(rekomenIklim, rekomenPRKI, rekomenPPRKN, rekomenCDNA, rekomenPengantar, rekomenEkonomi, rekomenSatLimbah, rekomenBAU, rekomenIntervensi, rekomenTradeoff, rekomenLimbah, rekomenAplikasi, rekomenKontributor))
tabelLimbah <- cbind(modulLimbah, nilaiLimbah)
tabelLimbah <- cbind(Kursus = rownames(tabelLimbah), tabelLimbah)
colnames(tabelLimbah) <- c("ID", "Modul", "Nilai")
rownames(tabelLimbah) <- 1:nrow(tabelLimbah)
tabelLimbah$Rekomendasi <- "Tidak ada rekomendasi"
###Define the recommendation of each indicator####
for (i in 1:nrow(tabelLimbah)){
eval(parse(text=paste0("tabelLimbah <- within(tabelLimbah, {Rekomendasi<-ifelse(ID=='", as.character(tabelLimbah$ID[i]) , "' & Nilai<4 , 'Perlu mempelajari modul', Rekomendasi)})")))
}
datatable(tabelLimbah)
} else if (filterData$`profil/id`==1) {
modulAdmin<- read_excel("init/modul.xlsx", sheet = "Admin")
nilaiAdmin <- data.frame(rbind(rekomenIklim, rekomenPRKI, rekomenPPRKN, rekomenCDNA, rekomenPengantar, rekomenEkonomi, rekomenBAU, rekomenIntervensi, rekomenTradeoff, rekomenAplikasi, rekomenAdmin))
tabelAdmin <- cbind(modulAdmin, nilaiAdmin)
tabelAdmin <- cbind(Kursus = rownames(tabelAdmin), tabelAdmin)
colnames(tabelAdmin) <- c("ID", "Modul", "Nilai")
rownames(tabelAdmin) <- 1:nrow(tabelAdmin)
tabelAdmin$Rekomendasi <- "Tidak ada rekomendasi"
###Define the recommendation of each indicator####
for (i in 1:nrow(tabelAdmin)){
eval(parse(text=paste0("tabelAdmin <- within(tabelAdmin, {Rekomendasi<-ifelse(ID=='", as.character(tabelAdmin$ID[i]) , "' & Nilai<4 , 'Perlu mempelajari modul', Rekomendasi)})")))
}
datatable(tabelAdmin)
} else {
modulEditor<- read_excel("init/modul.xlsx", sheet = "Editor")
nilaiEditor <- data.frame(rbind(rekomenIklim, rekomenPRKI, rekomenPPRKN, rekomenCDNA, rekomenPengantar, rekomenEkonomi, rekomenBAU, rekomenIntervensi, rekomenTradeoff, rekomenAplikasi, rekomenEditor))
tabelEditor <- cbind(modulEditor, nilaiEditor)
tabelEditor <- cbind(Kursus = rownames(tabelEditor), tabelEditor)
colnames(tabelEditor) <- c("ID", "Modul", "Nilai")
rownames(tabelEditor) <- 1:nrow(tabelEditor)
tabelEditor$Rekomendasi <- "Tidak ada rekomendasi"
###Define the recommendation of each indicator####
for (i in 1:nrow(tabelEditor)){
eval(parse(text=paste0("tabelEditor <- within(tabelEditor, {Rekomendasi<-ifelse(ID=='", as.character(tabelEditor$ID[i]) , "' & Nilai<4 , 'Perlu mempelajari modul', Rekomendasi)})")))
}
datatable(tabelEditor)
}
if (filterData$`profil/id`==2 & filterData$`profil/sektor`==1 & filterData$`profil/subsektor`==1){
modulEnergi <- read_excel("init/modul.xlsx", sheet = "Energi")
nilaiEnergi <- data.frame(rbind(rekomenIklim, rekomenPRKI, rekomenPPRKN, rekomenCDNA, rekomenPengantar, rekomenEkonomi, rekomenSatEnergi, rekomenBAU, rekomenIntervensi, rekomenTradeoff, rekomenEnergi, rekomenAplikasi, rekomenKontributor))
tabelEnergi <- cbind(modulEnergi, nilaiEnergi)
tabelEnergi <- cbind(Kursus = rownames(tabelEnergi), tabelEnergi)
colnames(tabelEnergi) <- c("ID", "Modul", "Nilai")
rownames(tabelEnergi) <- 1:nrow(tabelEnergi)
tabelEnergi$Rekomendasi <- "Tidak ada rekomendasi"
###Define the recommendation of each indicator####
for (i in 1:nrow(tabelEnergi)){
eval(parse(text=paste0("tabelEnergi <- within(tabelEnergi, {Rekomendasi<-ifelse(ID=='", as.character(tabelEnergi$ID[i]) , "' & Nilai<4 , 'Perlu mempelajari modul', Rekomendasi)})")))
}
tabelEnergi$ID <- NULL
tabelEnergi$Nilai <- NULL
datatable(tabelEnergi)
} else if (filterData$`profil/id`==2 & filterData$`profil/sektor`==1 & filterData$`profil/subsektor`==2) {
modulTransportasi <- read_excel("init/modul.xlsx", sheet = "Energi_Trans")
nilaiTransportasii <- data.frame(rbind(rekomenIklim, rekomenPRKI, rekomenPPRKN, rekomenCDNA, rekomenPengantar, rekomenEkonomi, rekomenSatEnergi, rekomenBAU, rekomenIntervensi, rekomenTradeoff, rekomenTransportasi, rekomenAplikasi, rekomenKontributor))
tabelTransportasi <- cbind(modulTransportasi, nilaiTransportasi)
tabelTransportasi <- cbind(Kursus = rownames(tabelTransportasi), tabelTransportasi)
colnames(tabelTransportasi) <- c("ID", "Modul", "Nilai")
rownames(tabelTransportasi) <- 1:nrow(tabelTransportasi)
tabelTransportasi$Rekomendasi <- "Tidak ada rekomendasi"
###Define the recommendation of each indicator####
for (i in 1:nrow(tabelTransportasi)){
eval(parse(text=paste0("tabelTransportasi <- within(tabelTransportasi, {Rekomendasi<-ifelse(ID=='", as.character(tabelTransportasi$ID[i]) , "' & Nilai<4 , 'Perlu mempelajari modul', Rekomendasi)})")))
}
tabelTransportasi$ID <- NULL
tabelTransportasi$Nilai <- NULL
datatable(tabelTransportasi)
} else if (filterData$`profil/id`==2 & filterData$`profil/sektor`==2 & filterData$`profil/subsektor_001`==1) {
modulHutan<- read_excel("init/modul.xlsx", sheet = "Lahan_Hutan")
nilaiHutan <- data.frame(rbind(rekomenIklim, rekomenPRKI, rekomenPPRKN, rekomenCDNA, rekomenPengantar, rekomenEkonomi, rekomenSatLahan, rekomenBAU, rekomenIntervensi, rekomenTradeoff, rekomenHutan, rekomenAplikasi, rekomenKontributor))
tabelHutan <- cbind(modulHutan, nilaiHutan)
tabelHutan <- cbind(Kursus = rownames(tabelHutan), tabelHutan)
colnames(tabelHutan) <- c("ID", "Modul", "Nilai")
rownames(tabelHutan) <- 1:nrow(tabelHutan)
tabelHutan$Rekomendasi <- "Tidak ada rekomendasi"
###Define the recommendation of each indicator####
for (i in 1:nrow(tabelHutan)){
eval(parse(text=paste0("tabelHutan <- within(tabelHutan, {Rekomendasi<-ifelse(ID=='", as.character(tabelHutan$ID[i]) , "' & Nilai<4 , 'Perlu mempelajari modul', Rekomendasi)})")))
}
tabelHutan$ID <- NULL
tabelHutan$Nilai <- NULL
datatable(tabelHutan)
} else if (filterData$`profil/id`==2 & filterData$`profil/sektor`==2 & filterData$`profil/subsektor_001`==2) {
modulTani<- read_excel("init/modul.xlsx", sheet = "Lahan_Tani")
nilaiTani <- data.frame(rbind(rekomenIklim, rekomenPRKI, rekomenPPRKN, rekomenCDNA, rekomenPengantar, rekomenEkonomi, rekomenSatLahan, rekomenBAU, rekomenIntervensi, rekomenTradeoff, rekomenTani, rekomenAplikasi, rekomenKontributor))
tabelTani <- cbind(modulTani, nilaiTani)
tabelTani <- cbind(Kursus = rownames(tabelTani), tabelTani)
colnames(tabelTani) <- c("ID", "Modul", "Nilai")
rownames(tabelTani) <- 1:nrow(tabelTani)
tabelTani$Rekomendasi <- "Tidak ada rekomendasi"
###Define the recommendation of each indicator####
for (i in 1:nrow(tabelTani)){
eval(parse(text=paste0("tabelTani <- within(tabelTani, {Rekomendasi<-ifelse(ID=='", as.character(tabelTani$ID[i]) , "' & Nilai<4 , 'Perlu mempelajari modul', Rekomendasi)})")))
}
tabelTani$ID <- NULL
tabelTani$Nilai <- NULL
datatable(tabelTani)
} else if (filterData$`profil/id`==2 & filterData$`profil/sektor`==2 & filterData$`profil/subsektor_002`==1) {
modulLimbah<- read_excel("init/modul.xlsx", sheet = "Limbah")
nilaiLimbah <- data.frame(rbind(rekomenIklim, rekomenPRKI, rekomenPPRKN, rekomenCDNA, rekomenPengantar, rekomenEkonomi, rekomenSatLimbah, rekomenBAU, rekomenIntervensi, rekomenTradeoff, rekomenLimbah, rekomenAplikasi, rekomenKontributor))
tabelLimbah <- cbind(modulLimbah, nilaiLimbah)
tabelLimbah <- cbind(Kursus = rownames(tabelLimbah), tabelLimbah)
colnames(tabelLimbah) <- c("ID", "Modul", "Nilai")
rownames(tabelLimbah) <- 1:nrow(tabelLimbah)
tabelLimbah$Rekomendasi <- "Tidak ada rekomendasi"
###Define the recommendation of each indicator####
for (i in 1:nrow(tabelLimbah)){
eval(parse(text=paste0("tabelLimbah <- within(tabelLimbah, {Rekomendasi<-ifelse(ID=='", as.character(tabelLimbah$ID[i]) , "' & Nilai<4 , 'Perlu mempelajari modul', Rekomendasi)})")))
}
tabelLimbah$ID <- NULL
tabelLimbah$Nilai <- NULL
datatable(tabelLimbah)
} else if (filterData$`profil/id`==1) {
modulAdmin<- read_excel("init/modul.xlsx", sheet = "Admin")
nilaiAdmin <- data.frame(rbind(rekomenIklim, rekomenPRKI, rekomenPPRKN, rekomenCDNA, rekomenPengantar, rekomenEkonomi, rekomenBAU, rekomenIntervensi, rekomenTradeoff, rekomenAplikasi, rekomenAdmin))
tabelAdmin <- cbind(modulAdmin, nilaiAdmin)
tabelAdmin <- cbind(Kursus = rownames(tabelAdmin), tabelAdmin)
colnames(tabelAdmin) <- c("ID", "Modul", "Nilai")
rownames(tabelAdmin) <- 1:nrow(tabelAdmin)
tabelAdmin$Rekomendasi <- "Tidak ada rekomendasi"
###Define the recommendation of each indicator####
for (i in 1:nrow(tabelAdmin)){
eval(parse(text=paste0("tabelAdmin <- within(tabelAdmin, {Rekomendasi<-ifelse(ID=='", as.character(tabelAdmin$ID[i]) , "' & Nilai<4 , 'Perlu mempelajari modul', Rekomendasi)})")))
}
tabelAdmin$ID <- NULL
tabelAdmin$Nilai <- NULL
datatable(tabelAdmin)
} else {
modulEditor<- read_excel("init/modul.xlsx", sheet = "Editor")
nilaiEditor <- data.frame(rbind(rekomenIklim, rekomenPRKI, rekomenPPRKN, rekomenCDNA, rekomenPengantar, rekomenEkonomi, rekomenBAU, rekomenIntervensi, rekomenTradeoff, rekomenAplikasi, rekomenEditor))
tabelEditor <- cbind(modulEditor, nilaiEditor)
tabelEditor <- cbind(Kursus = rownames(tabelEditor), tabelEditor)
colnames(tabelEditor) <- c("ID", "Modul", "Nilai")
rownames(tabelEditor) <- 1:nrow(tabelEditor)
tabelEditor$Rekomendasi <- "Tidak ada rekomendasi"
###Define the recommendation of each indicator####
for (i in 1:nrow(tabelEditor)){
eval(parse(text=paste0("tabelEditor <- within(tabelEditor, {Rekomendasi<-ifelse(ID=='", as.character(tabelEditor$ID[i]) , "' & Nilai<4 , 'Perlu mempelajari modul', Rekomendasi)})")))
}
tabelEditor$ID <- NULL
tabelEditor$Nilai <- NULL
datatable(tabelEditor)
}
#Kesesuaian peran
kategori1<-rowSums(numData[,1:2]); kategori1<-as.data.frame(kategori1)/2
#Pengetahuan
kategori2<-rowSums(numData[,3:12]); kategori2<-as.data.frame(kategori2)/10
#Keterampilan
kategori3<-rowSums(numData[,13:26]); kategori3<-as.data.frame(kategori3)/14
#Pengembangan dan Motivasi
kategori4<-rowSums(numData[,27:29]); kategori4<-as.data.frame(kategori4)/3
graphData <- cbind(kategori1, kategori2, kategori3, kategori4)
View(graphData)
graphData <- rbind(kategori1, kategori2, kategori3, kategori4)
t_graphData <- t(graphData)
t_graphData <- as.data.frame(t(graphData))
View(t_graphData)
t_graphData <- as.data.frame(cbind(Kategori=c("Kesesuaian Peran dalam Implementasi RAD FRK/PPRKD dengan Tugas", "Pengetahuan", "Keterampilan", "Pengembangan dan Motivasi"),t(graphData)))
View(t_graphData)
graphData <- round(cbind(kategori1, kategori2, kategori3, kategori4), digits = 2)
t_graphData <- as.data.frame(cbind(V1=c("Kesesuaian Peran dalam Implementasi RAD FRK/PPRKD dengan Tugas", "Pengetahuan", "Keterampilan", "Pengembangan dan Motivasi"),t(graphData)))
colnames(t_graphData) <- c("Kategori", "Nilai")
View(t_graphData)
plot_ly(t_graphData, y=~Kategori, x=~Nilai, type='bar', name='Level', orientation= 'h')%>%
layout(yaxis=list(title='Kategori'), barmode='stack')
library(ggplot2)
library(plotly)
plot_ly(t_graphData, y=~Kategori, x=~Nilai, type='bar', name='Level', orientation= 'h')%>%
layout(yaxis=list(title='Kategori'), barmode='stack')
plot_ly(t_graphData, y=~Kategori, x=~Nilai, type='bar', name='Level', orientation= 'v')%>%
layout(yaxis=list(title='Kategori'), barmode='stack')
plot_ly(t_graphData, y=~Nilai, x=~Kategori, type='bar', name='Level', orientation= 'v')%>%
layout(yaxis=list(title='Kategori'), barmode='stack')
plot_ly(t_graphData, y=~Nilai, x=~Kategori, type='bar', name='Level', orientation= 'v')%>%
layout(yaxis=list(title='Nilai'), barmode='stack')
plot_ly(t_graphData, y=~Nilai, x=~Kategori, type='bar', name='Level', orientation= 'v') %>%
layout(yaxis=list(title='Nilai'), barmode='stack') +  xlim(0, 5)
plot_ly(t_graphData, y=~Nilai, x=~Kategori, type='bar', name='Level', orientation= 'v') %>%
layout(yaxis=list(title='Nilai'), barmode='stack') +  xlim(0, 5)
plot_ly(t_graphData, y=~Nilai, x=~Kategori, type='bar', name='Level', orientation= 'v') %>%
layout(yaxis=list(title='Nilai'), barmode='stack') %>%
xlim(0, 5)
plot_ly(t_graphData, y=~Nilai, x=~Kategori, type='bar', name='Level', orientation= 'v') %>%
layout(yaxis=list(title='Nilai'), yaxis = list(range = c(2, 5)), barmode='stack') %>%
xlim(0, 5)
plot_ly(t_graphData, y=~Nilai, x=~Kategori, type='bar', name='Level', orientation= 'v') %>%
layout(yaxis=list(title='Nilai'), yaxis = list(range = c(2, 5)), barmode='stack')
plot_ly(t_graphData, y=~Nilai, x=~Kategori, type='bar', name='Level', orientation= 'v') %>%
layout(yaxis = list(range = c(2, 5)), barmode='stack')
plot_ly(t_graphData, y=~Nilai, x=~Kategori, type='bar', name='Level', orientation= 'v') %>%
layout(yaxis = list(range = c(0, 5)), barmode='stack')
plot_ly(t_graphData, y=~Nilai, x=~Kategori, type='bar', name='Nilai', orientation= 'v') %>%
layout(yaxis=list(title='Nilai'), barmode='stack') %>%
xlim(0, 5)
plot_ly(t_graphData, y=~Nilai, x=~Kategori, type='bar', name='Nilai', orientation= 'v') %>%
layout(yaxis=list(title='Nilai'), barmode='stack')
ggplot(t_graphData, aes(Nilai, Kategori)) +
geom_bar() +
xlim(0, 15)
ggplot(t_graphData, aes(Nilai, Kategori)) +
geom_bar()
ggplot(t_graphData, aes(aes=Nilai, Kategori)) +
geom_bar()
ggplot(t_graphData, aes(aes=Kategori, Nilai)) +
geom_bar()
ggplot(t_graphData, aes(aes(y=Kategori, x=Nilai)) +
sk
//
ggplot(t_graphData, aes(aes(y=Kategori, x=Nilai))) +
geom_bar()
ggplot(t_graphData, aes(aes(y=Nilai, x=Kategori))) +
geom_bar()
ggplot(t_graphData, aes(x=Kategori, y=Nilai)) +
geom_bar(stat = "identity")
ggplotly(graph)
graph <- ggplot(t_graphData, aes(x=Kategori, y=Nilai)) +
geom_bar(stat = "identity")
ggplotly(graph)
graph <- ggplot(t_graphData, aes(x=Kategori, y=Nilai)) +
geom_bar(stat = "identity") + ylim(0,5)
ggplotly(graph)
graph <- ggplot(t_graphData, aes(x=Nilai, y=Kategori)) +
geom_bar(stat = "identity")
ggplotly(graph)
graphData <- round(cbind(kategori1, kategori2, kategori3, kategori4), digits = 2)
t_graphData <- as.data.frame(cbind(V1=c("Kesesuaian Peran dalam Implementasi RAD FRK/PPRKD dengan Tugas", "Pengetahuan", "Keterampilan", "Pengembangan dan Motivasi"),t(graphData)))
colnames(t_graphData) <- c("Kategori", "Nilai")
graph <- ggplot(t_graphData, aes(x=Kategori, y=Nilai)) +
geom_bar(stat = "identity")
ggplotly(graph)
fig <- plot_ly(
x = t_graphData$Kategori,
y = t_graphData$Nilai,
name = "Grafik",
type = "bar"
)
fig
ggplot(t_graphData, aes(x=Kategori, y=range(0:5))) +
geom_bar(stat = "identity") +
coord_flip()
ggplot(t_graphData, aes(x=Kategori, y=range(0:5)), fill=Nilai) +
geom_bar(stat = "identity") +
coord_flip()
ggplot(t_graphData, aes(x=Kategori, y=Nilai)) +
geom_bar(stat = "identity") +
coord_flip()
a<- ggplot(t_graphData, aes(x=Kategori, y=Nilai)) +
geom_bar(stat = "identity") +
coord_flip()
ggplotly(a)
graph <- ggplot(t_graphData, aes(fill=Nilai, x=Kategori)) +
geom_bar(stat="identity") +
coord_flip() +
theme_minimal() +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank(),
axis.text.x = element_blank(),
axis.title.x = element_blank(),
axis.title.y=element_blank())
ggplotly(graph)
graph <- ggplot(t_graphData, aes(fill=Nilai, y=seq(0,5), x=Kategori)) +
geom_bar(stat="identity") +
coord_flip() +
theme_minimal() +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank(),
axis.text.x = element_blank(),
axis.title.x = element_blank(),
axis.title.y=element_blank())
ggplotly(graph)
seq(0,5)
graph <- ggplot(t_graphData, aes(y=Nilai, x=Kategori)) +
geom_bar(stat="identity") +
coord_flip() +
theme_minimal() +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank(),
axis.text.x = element_blank(),
axis.title.x = element_blank(),
axis.title.y=element_blank())
ggplotly(graph)
graphData <- cbind(kategori1, kategori2, kategori3, kategori4)
t_graphData <- as.data.frame(cbind(V1=c("Kesesuaian Peran dalam Implementasi RAD FRK/PPRKD dengan Tugas", "Pengetahuan", "Keterampilan", "Pengembangan dan Motivasi"),t(graphData)))
colnames(t_graphData) <- c("Kategori", "Nilai")
plot_ly(t_graphData, y=~Indikator, x=~Level, type='bar', name='Level', orientation= 'h')%>%
layout(yaxis=list(title='Indikator'), barmode='stack')
graph <- ggplot(t_graphData, aes(y=Nilai, x=Kategori)) +
geom_bar(stat="identity") +
coord_flip() +
theme_minimal() +
theme(panel.grid.major = element_blank(), panel.grid.minor = element_blank(),
axis.text.x = element_blank(),
axis.title.x = element_blank(),
axis.title.y=element_blank())
ggplotly(graph)
View(graphData)
str(graphData)
datatable(t_graphData)
rownames(t_graphData) <- 1:nrow(t_graphData)
datatable(t_graphData)
datatable(t_graphData,escape = FALSE, rownames = FALSE)
datatable(t_graphData,escape = FALSE, rownames = FALSE) %>%
formatRound(columns='Nilai', digits=2)
runApp('app_moodle.R')
runApp('app_moodle.R')
runApp('app_moodle.R')
runApp('app_moodle.R')
runApp('app_moodle.R')
tempData <-readRDS("data/dataMoodle")
View(tempData)
runApp('app_moodle.R')
runApp('app_moodle.R')
runApp('app_moodle.R')
rsconnect::setAccountInfo(name='aksaratesting', token='E08E08C2AD2FDF92EE6F59081ED774CB', secret='FqPlsaR23vZ2c1as5kSd4J47W57t7rSFKaDWInfJ')
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
library(httr)
library(jsonlite)
library(readr)
kobo_server_url <- "https://kf.kobotoolbox.org/"
kc_server_url <- "https://kc.kobotoolbox.org/"
form_moodle <- 612594 #Individu
## Individu ##
url_moodle<- paste0(kc_server_url,"api/v1/data/",form_moodle,".csv")
rawdata_moodle <- GET(url_moodle,authenticate("cdna2019","Icraf2019!"),progress())
dataMoodle <- read_csv(content(rawdata_moodle,"raw",encoding = "UTF-8"))
View(rawdata_moodle)
View(dataMoodle)
shiny::runApp()
